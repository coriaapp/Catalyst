import { Client } from './Client';
import { Collection, QuerySnapshotRegister } from './Collection';
import { CollectionRecordResponse } from './Record';
import { SubscriptionFn, SubscriptionErrorFn } from './Subscription';
import { Request, QueryValue, QueryWhereOperator, QueryWhereKey, CollectionList, CollectionRecordSnapshotRegister, QueryResponseCursor, SenderRawListResponse } from './types';
import { Collection as ASTCollection } from '@polybase/polylang/dist/ast';
export declare const QueryWhereOperatorMap: Record<QueryWhereOperator, QueryWhereKey>;
export declare const QueryWhereOperatorRelationMap: Record<QueryWhereKey, QueryWhereKey>;
export declare class Query<T> {
    collection: Collection<T>;
    private params;
    private client;
    private onQuerySnapshotRegister;
    private onRecordSnapshotRegister;
    constructor(collection: Collection<T>, client: Client, onQuerySnapshotRegister: QuerySnapshotRegister<T>, onRecordSnapshotRegister: CollectionRecordSnapshotRegister<T>);
    sort: (field: string, direction?: 'asc' | 'desc') => Query<T>;
    limit: (limit: number) => Query<T>;
    after: (after: string) => this;
    before: (before: string) => this;
    where: (field: string, op: QueryWhereOperator, value: QueryValue) => Query<T>;
    get: () => Promise<CollectionList<T>>;
    key: () => string;
    onSnapshot: (fn: SubscriptionFn<CollectionList<T>>, errFn?: SubscriptionErrorFn) => () => void;
    request: () => Request;
    clone: () => Query<T>;
}
export declare class QueryResponse<T> extends Query<T> {
    data: CollectionRecordResponse<T>[];
    cursor: QueryResponseCursor;
    constructor(collection: Collection<T>, client: Client, onQuerySnapshotRegister: QuerySnapshotRegister<T>, onRecordSnapshotRegister: CollectionRecordSnapshotRegister<T>, response: SenderRawListResponse<T>, ast: ASTCollection);
    previous(): Promise<CollectionList<T>>;
    next(): Promise<CollectionList<T>>;
    toJSON: () => {
        data: CollectionRecordResponse<T, T>[];
        cursor: QueryResponseCursor;
    };
}
//# sourceMappingURL=Query.d.ts.map